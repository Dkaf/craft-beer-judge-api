{"version":3,"sources":["webpack:///webpack/bootstrap bc0085f2855a4cfe0d2a","webpack:///external \"mongoose\"","webpack:///./src/app.js","webpack:///./src/models/Beer.js","webpack:///external \"express\"","webpack:///./src/models/index.js","webpack:///./src/models/User.js","webpack:///external \"jsonwebtoken\"","webpack:///external \"dotenv\"","webpack:///external \"babel-polyfill\"","webpack:///./src/index.js","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///./src/routes.js","webpack:///./src/controllers/userController.js","webpack:///./src/models/BeerFridge.js","webpack:///external \"bcrypt-nodejs\"","webpack:///./src/controllers/beerController.js","webpack:///external \"unirest\"","webpack:///./src/controllers/authController.js","webpack:///external \"config\""],"names":["config","DBHost","get","connect","useMongoClient","then","console","log","db","connection","on","error","bind","app","use","json","set","process","env","SECRET_KEY","Schema","beerSchema","name","String","description","abv","ibu","label","Object","style","category","rating","Number","_owner","type","Types","ObjectId","ref","Beer","model","User","BeerFridge","Promise","global","userSchema","username","required","unique","minlength","password","fridge","listen","PORT","routes","post","postUser","login","verifyToken","getUser","put","addBeer","delete","deleteUser","removeBeer","getBeers","getCategories","getSingleCategory","userController","req","res","body","findOne","user","status","success","message","hash","hashSync","save","newUser","payload","id","_id","token","sign","expiresIn","data","catch","err","findById","decoded","populate","compareSync","iss","beers","findOneAndUpdate","new","exec","userRemoved","params","remove","beerFridgeSchema","owner","beerController","BreweryKey","BREWDB_KEY","beer","newBeer","labels","findByIdAndUpdate","push","beerId","findByIdAndRemove","brewUrl","end","categoryUrl","categoryId","authController","next","query","headers","verify"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bc0085f2855a4cfe0d2a","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","import express from 'express';\nimport bodyParser from 'body-parser';\nimport cors from 'cors';\nimport mongoose from 'mongoose';\n\nimport routes from './routes';\nimport config from 'config';\nimport dotenv from 'dotenv';\ndotenv.config();\n\nlet DBHost = config.get('DBHost');\n\nmongoose.connect(DBHost, {\n\tuseMongoClient: true\n}).then(console.log(\"Connected to mongodb...\"));\nlet db = mongoose.connection;\ndb.on('error', console.error.bind('connection error'));\n\nconst app = express();\n\n//Middleware\napp.use(cors());\napp.use(bodyParser.json());\napp.set('secret', process.env.SECRET_KEY);\n\napp.use('/api', routes);\n\nexport default app;\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import mongoose from 'mongoose';\n\nconst { Schema } = mongoose;\n\nconst beerSchema = new Schema({\n\tname: String,\n\tdescription: String,\n\tabv: String,\n\tibu: String,\n\tlabel: Object,\n\tstyle: {\n\t\tcategory: Object,\n\t\tname: String,\n\t\tdescription: String\n\t},\n\trating: Number,\n\t_owner: {type: Schema.Types.ObjectId, ref: 'User'}\n});\n\nconst Beer = mongoose.model('Beer', beerSchema);\n\nexport default Beer;\n\n\n// WEBPACK FOOTER //\n// ./src/models/Beer.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","import User from './User';\nimport BeerFridge from './BeerFridge';\nimport Beer from './Beer';\n\nexport default {\n\tUser,\n\tBeerFridge,\n\tBeer\n};\n\n\n// WEBPACK FOOTER //\n// ./src/models/index.js","import mongoose from 'mongoose';\n\nimport Beer from './Beer';\n\nconst { Schema } = mongoose;\n\nmongoose.Promise = global.Promise;\n\nconst userSchema = new Schema({\n\tusername: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tunique: true,\n\t\tminlength: [4, 'Username must be at least 4 characters']\n\t},\n\tpassword: {\n\t\ttype: String,\n\t\trequired: true,\n\t\tminlength: [8, 'Password must be at least 8 characters']\n\t},\n\tfridge: [{type: Schema.Types.ObjectId, ref: 'Beer'}]\n});\n\nconst User = mongoose.model('User', userSchema);\n\nexport default User;\n\n\n// WEBPACK FOOTER //\n// ./src/models/User.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 9\n// module chunks = 0","import app from './app';\n\napp.listen(process.env.PORT || 8080, () => {\n\tconsole.log('server is working!');\n});\n\nexport default app;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 12\n// module chunks = 0","import express from 'express';\n\nconst routes = express();\n\n//Controller Imports\nimport userController from './controllers/userController';\nimport beerController from './controllers/beerController';\nimport authController from './controllers/authController';\n\n//User Routes\nroutes.post('/signup', userController.postUser);\nroutes.post('/login', userController.login);\nroutes.get('/getuser/', authController.verifyToken, userController.getUser);\nroutes.put('/user/addbeer/', authController.verifyToken, userController.addBeer);\nroutes.delete('/deleteuser/:userRemoved', authController.verifyToken, userController.deleteUser);\n\n//Beer Routes\nroutes.post('/beer/addbeer', authController.verifyToken, beerController.addBeer);\nroutes.delete('/beer', authController.verifyToken, beerController.removeBeer);\nroutes.get('/beers/:name', beerController.getBeers);\nroutes.get('/categories', beerController.getCategories);\nroutes.get('/categories/:categoryId', beerController.getSingleCategory);\n\n//Beer Fridge Routes\n// routes.post('/beerfridge', beerFridgeController.createFridge);\n// routes.get('/beerfridge/:user', beerFridgeController.getUserFridge);\n// routes.put('/beerfridge/update', beerFridgeController.updateFridge);\n\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/routes.js","import db from './../models/index';\nimport app from '../app';\nimport jwt from 'jsonwebtoken';\nimport bcrypt from 'bcrypt-nodejs';\nconst userController = {};\n\n// Create new user /signup route\nuserController.postUser = (req, res) => {\n\tconst { username, password } = req.body;\n\n\tdb.User.findOne({'username': username}, (user) => {\n\t\tif(user) {\n\t\t\treturn res.status(500).json({\n\t\t\t\tsuccess: false,\n\t\t\t\tmessage: 'User already exists'\n\t\t\t});\n\t\t}\n\t});\n\n\tif(!username) {\n\t\treturn res.status(400).json({\n\t\t\tsuccess: false,\n\t\t\tmessage: 'Missing username in body'\n\t\t});\n\t} else if(!password) {\n\t\treturn res.status(400).json({\n\t\t\tsuccess: false,\n\t\t\tmessage: 'Missing password in body'\n\t\t});\n\t} else {\n\t\tconst hash =  bcrypt.hashSync(password);\n\t\t\n\t\tconst user = new db.User({\n\t\t\tusername,\n\t\t\tpassword: hash\n\t\t});\n\n\t\tuser.save()\n\t\t\t.then((newUser) => {\n\t\t\t\tlet payload = {\n\t\t\t\t\tusername: user.username,\n\t\t\t\t\tid: user._id\n\t\t\t\t};\n\t\t\t\tlet token = jwt.sign(payload, app.get('secret'), {expiresIn: '30m'});\n\t\t\t\tres.status(201).json({\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tdata: newUser.username,\n\t\t\t\t\ttoken: token\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tres.status(500).json({\n\t\t\t\t\tmessage: err\n\t\t\t\t});\n\t\t\t});\n\t\t\n\n\t}\n\n};\n\n//Find User\nuserController.getUser = (req, res) => {\n\tdb.User.findById(req.decoded.id)\n\t\t.populate('fridge')\t\t\t\t\n\t\t.then((user) => {\n\t\t\tres.status(200).json({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: {id: user._id, username: user.username, fridge: user.fridge}\n\t\t\t});\n\t\t})\n\t\t.catch((err) => {\n\t\t\tres.status(500).json({\n\t\t\t\tmessage: err\n\t\t\t});\n\t\t\tthrow err;\n\t\t});\n\n};\n\n\n//Login\nuserController.login = (req, res) => {\n\tconst { username, password } = req.body;\n\tdb.User.findOne({'username': username})\n\t\t.then((user) => {\n\t\t\tif(!user) {\n\t\t\t\tres.status(500).json({success: false, message:'User not found'});\n\t\t\t} else if(user) {\n\t\t\t\tif(!bcrypt.compareSync(password, user.password)) {\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tres.status(500).json({success: false, message:'Login failed. Incorrect password'});\n\t\t\t\t} else if(bcrypt.compareSync(password, user.password)) {\n\t\t\t\t\tconst payload = {\n\t\t\t\t\t\tiss: 'https://shielded-brook-50392.herokuapp.com/',\n\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\tid: user._id\n\t\t\t\t\t};\n\n\t\t\t\t\tlet token = jwt.sign(payload, app.get('secret'), {\n\t\t\t\t\t\texpiresIn: '1h'\n\t\t\t\t\t});\n\n\t\t\t\t\tres.status(200).json({success: true, token: token});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tthrow err;\n\t\t});\n};\n\n//Add Beer to User\nuserController.addBeer = (req, res) => {\n\tconst { beers } = req.body;\n\n\tdb.User.findOneAndUpdate({_id: req.decoded.id}, {fridge: beers}, {new: true})\n\t\t.populate('fridge')\n\t\t.exec((err, user) => {\n\t\t\tif(err) {\n\t\t\t\treturn res.status(500).json({success: false, data: err});\t\t\t\t\n\t\t\t} else if(user.username != req.decoded.username) {\n\t\t\t\treturn res.status(403).json({success: false, message:'Incorrect permissions'});\n\t\t\t}\n\t\t\treturn res.status(200).json({success: true, data: user.fridge});\t\t\t\n\t\t});\n};\n\n\n\n\n\n//Delete User\nuserController.deleteUser = (req, res) => {\n\tconst { userRemoved } = req.params;\n\tif(userRemoved != req.decoded.username) {\n\t\treturn res.status(403).json({success: false, message:'Incorrect permissions'});\n\t} else {\n\t\tdb.User.remove({username: userRemoved})\n\t\t\t.then((user) => {\n\t\t\t\tres.status(200).json({\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tdata: user\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tres.status(500).json({\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tdata: err\n\t\t\t\t});\n\t\t\t});\n\t}\n};\n\nexport default userController;\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/userController.js","import mongoose from 'mongoose';\nimport Beer from './Beer';\nimport User from './User';\n\nconst { Schema } = mongoose;\n\nconst beerFridgeSchema = new Schema({\n\tbeers: [{\n\t\ttype: Schema.Types.ObjectId, ref: Beer\n\t}],\n\towner: {\n\t\tname: {type: Schema.Types.ObjectId, ref: User}\n\t}\n});\n\nconst BeerFridge = mongoose.model('BeerFridge', beerFridgeSchema);\n\nexport default BeerFridge;\n\n\n// WEBPACK FOOTER //\n// ./src/models/BeerFridge.js","module.exports = require(\"bcrypt-nodejs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt-nodejs\"\n// module id = 16\n// module chunks = 0","import unirest from 'unirest';\nimport db from './../models/index';\nimport dotenv from 'dotenv';\ndotenv.config();\n\n\nconst beerController = {};\nconst BreweryKey = process.env.BREWDB_KEY;\n\n\n//New Beer\nbeerController.addBeer = (req, res) => {\n\tconst { beer, rating } = req.body;\n\n\tconst newBeer = new db.Beer({\n\t\tname: beer.name,\n\t\tdescription: beer.description,\n\t\tabv: beer.abv,\n\t\tibu: beer.ibu,\n\t\tlabels: beer.labels,\n\t\tstyle: beer.style,\n\t\trating: rating,\n\t\t_owner: req.decoded.id\n\t});\n\n\tnewBeer.save()\n\t\t.then((beer) => {\n\t\t\tdb.User.findByIdAndUpdate(req.decoded.id, {new: true})\n\t\t\t\t.then( (user) => {\n\t\t\t\t\tuser.fridge.push(beer._id);\n\t\t\t\t\tuser.save( user => {\n\n\t\t\t\t\t})\n\t\t\t\t\tres.status(200).json({\n\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tbeer,\n\t\t\t\t\t\t\tusername: user.username,\n\t\t\t\t\t\t\tfridge: user.fridge\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}).catch( (err) => {\n\t\t\t\t\tres.status(500).json({success: false, message: err});\n\t\t\t\t});\n\t\t})\n\t\t.catch((err) =>{\n\t\t\tres.status(500).json({\n\t\t\t\tdata: err\n\t\t\t});\n\t\t\tthrow err;\n\t\t});\n};\n\n//Remove Beer\nbeerController.removeBeer = (req, res) => {\n\tlet { beerId } = req.body;\n\n\tdb.Beer.findByIdAndRemove(beerId)\n\t\t.then((beer) => {\t\t\t\n\t\t\tif(req.decoded.id != beer._owner) {\n\t\t\t\tres.status(403).json({\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tmessage: 'You do not have the correct permissions for this'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tres.status(200).json({\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tmessage: 'Successfully removed ' + beer\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch((err) => {\n\t\t\tres.status(500).json({\n\t\t\t\tsuccess: false,\n\t\t\t\tmessage: err\n\t\t\t});\n\t\t});\n};\n\n//Search for beers by name\nbeerController.getBeers = (req, res) => {\n\tconst { name } = req.params;\n\tconst brewUrl = 'http://api.brewerydb.com/v2/search?key=' + BreweryKey + '&q=' + name + '&type=beer';\n\tunirest.get(brewUrl)\n\t\t.end((data) => {\n\t\t\tres.status(200).json({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: data.body\n\t\t\t});\n\t\t});\n};\n\n//Find categories\nbeerController.getCategories = (req, res) => {\n\tconst categoryUrl = 'http://api.brewerydb.com/v2/categories/?key=' + BreweryKey;\n\tunirest.get(categoryUrl)\n\t\t.end((data) => {\n\t\t\tres.status(200).json({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: data.body.data\n\t\t\t});\n\t\t});\n};\n\n//Find single category\nbeerController.getSingleCategory = (req, res) => {\n\tconst { categoryId } = req.params;\n\tconst categoryUrl = 'http://api.brewerydb.com/v2/category/'+ categoryId + '/?key=' + BreweryKey;\n\tunirest.get(categoryUrl)\n\t\t.end((data) => {\n\t\t\tres.status(200).json({\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: data.body.data\n\t\t\t});\n\t\t});\n};\n\n\nexport default beerController;\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/beerController.js","module.exports = require(\"unirest\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"unirest\"\n// module id = 18\n// module chunks = 0","import app from '../app';\nimport jwt from 'jsonwebtoken';\n\n\nconst authController = {};\n\n\n\nauthController.verifyToken = (req, res, next) => {\n\tlet token = req.body.token || req.query.token || req.headers['x-access-token'];\n    \n\tif(token) {\n\t\tjwt.verify(token, app.get('secret'), (err, decoded) => {\n\t\t\tif(err) {\n\t\t\t\tres.json({success: false, message: 'Failed to verify token'});\n\t\t\t\tthrow err;\n\t\t\t} else if(!decoded.id || !decoded.username) {\n\t\t\t\treturn res.json({success: false, message: 'No Payload in token'});\n\t\t\t}\n\t\t\telse {\n\t\t\t\treq.decoded = decoded;\n\t\t\t\tnext();\n\t\t\t}\n\t\t});\n\t} else {\n\t\tres.status(403).json({success: false, message: 'no token provided'});\n\t}\n};\n\nexport default authController;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/authController.js","module.exports = require(\"config\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"config\"\n// module id = 20\n// module chunks = 0"],"sourceRoot":""}